# 【脚本】

> - main（）
> - 打成jar包
> - 编写shell脚本，在linux上运行

## 编写main函数

```java
/**
 * @author Chongming
 * @description
 * @date 2023年05月18日 9:49
 */
public class Test {
    public static void main(String[] args) {
        if (args.length != 0) {
            switch (args[0]) {
                case "A" :
                    testA();
                    break;
                case "B" :
                    testB();
                    break;
                default: break;
            }
        }
    }

    static void testA() {
        new Thread(() -> {
            System.out.println(Thread.currentThread().getName() + " == Astart");
            for (int i = 0; i < 20; i++) {
                System.out.println("A->" + i);
            }
            System.out.println(Thread.currentThread().getName() + " == Aend");
        }).start();
    }

    static void testB() {
        new Thread(() -> {
            System.out.println(Thread.currentThread().getName() + " == Bstart");
            for (int i = 0; i < 20; i++) {
                System.out.println("B->" + i);
            }
            System.out.println(Thread.currentThread().getName() + " == Bend");
        }).start();
    }

}
```

## 打Jar包

### idea

1. ![image-20230518100726427](https://chongming-images.oss-cn-hangzhou.aliyuncs.com/images-masterimage-20230518100726427.png)

2. ![image-20230518100819900](https://chongming-images.oss-cn-hangzhou.aliyuncs.com/images-masterimage-20230518100819900.png)

3. ![image-20230518100952145](https://chongming-images.oss-cn-hangzhou.aliyuncs.com/images-masterimage-20230518100952145.png)

4. ![image-20230518101021659](https://chongming-images.oss-cn-hangzhou.aliyuncs.com/images-masterimage-20230518101021659.png)

5. ![image-20230518101048264](https://chongming-images.oss-cn-hangzhou.aliyuncs.com/images-masterimage-20230518101048264.png)

6. 右键刚才的包，选择**Open in>Explorer**，直接打开包的所在位置

7. 运行jar包：

   ```shell
   java -jar company-practice.jar [需要传递的参数]
   ```

### 命令行

1. 查看帮助文档

   ```shell
   # 查看帮助文档
   jar --help
   
   帮助文档：
       -c  创建新档案
       -t  列出档案目录
       -x  从档案中提取指定的 (或所有) 文件
       -u  更新现有档案
       -v  生成详细报告并打印到标准输出
       -f  指定档案文件名
       -m  包含指定清单文件中的清单信息
       -n  创建新档案后执行 Pack200 规范化
       -e  为捆绑到可执行 jar 文件的独立应用程序指定应用程序入口点
       -0  仅存储; 不使用任何 ZIP 压缩
       -P  保留文件名中的前导 '/' (绝对路径) 和 ".." (父目录) 组件
       -M  不创建条目的清单文件
       -i  为指定的 jar 文件生成索引信息
       -C  更改为指定的目录并包含以下文件
   ```

2. 进入.java文件目录，编译成.class文件

   ```shell
   # 打包命令
   javac 文件.java
   # 指定编码格式
   javac -encoding UTF-8  xxx.java
   # 运行命令
   java 文件(不带.class后缀)
   
   # 帮助文档
   java --help
   javac --help
   ```

3. 找到.class文件，执行打包命令：

   ```shell
   jar -cvf jar包目录 .class文件1 .class文件2 ...
   ```

4. 运行：

   ```shell
   java -cp jar包路径 主类全类名(不带后缀)
   ```

## 编写并执行shell脚本

**vim一个test.sh文件编写脚本**

```txt
#! /bin/bash
# this is a test
java -cp Test.jar Test $1
```

**执行：**

```shell
#  
. test.sh B
bash test.sh A
source test.sh A
```



# 【日志工具类】

> - logDebug(String message, Throwable cause, Object params) 记调试日志 
> - logError(String message, Throwable cause, Object params) 记错误日志 
> - logFatal(String message, Throwable cause, Object params) 记致命错误日志 
> - logI18Ndebug(String code, Throwable cause, Object params) 记国际化调试日志 
> - logI18Nerror(String code, Throwable cause, Object params) 记国际化错误日志 
> - logI18Nfatal(String code, Throwable cause, Object params) 记国际化致命错误日志 
> - logI18NInfo(String code, Throwable cause, Object params) 记国际化信息日志 
> - logI18Nwarn(String code, Throwable cause, Object params) 记国际化警告日志 
> - logInfo(String message, Throwable cause, Object params) 记信息日志 
> - logWarn(String message, Throwable cause, Object params) 记警告日志 
>
> **日志格式：**
>
> ```
> [2008-09-25 11:22:38,187][INFO][com.primeton.eos.foundation.example.LogUtil.logI18nInfo_biz][Line:164] Hello I18NInfo!
> ```
>
> 

